# "metadata not found" 问题说明

## 这是什么？

"metadata not found" **不是错误**，而是一个正常的业务状态。

## 含义

当客户端请求某个日期的元数据时，如果该日期还没有：
- 上传过任何文件
- 运行过工作流
- 生成过任何记录

那么服务器会返回：
```json
{
  "code": 3,
  "status": "error",
  "message": "metadata not found",
  "data": null
}
```

## 为什么会看到这个？

1. **文件管理页面**：选择了还没有上传文件的日期
2. **结果查看页面**：选择了还没有运行工作流的日期
3. **新项目**：项目刚刚创建，还没有任何数据

## 解决方法

### 对于文件管理页面

如果看到"metadata not found"，说明该日期还没有文件。这是正常的：
- 可以上传第一个文件（上传文件时会自动创建元数据）
- 或者选择一个已经有文件的日期

### 对于结果查看页面

如果看到"metadata not found"，说明该日期还没有运行过工作流或生成总结。这是正常的：
- 需要先上传文件
- 然后运行工作流生成总结

## 已做的改进

客户端现在会优雅地处理这种情况：
- ✅ 不会显示错误提示
- ✅ 显示"暂无数据"的空状态
- ✅ 引导用户上传文件或运行工作流

## 正常流程

1. **上传第一个文件**
   - 系统会自动为该日期创建元数据文件
   - `lib/server/usrdata/{project}/files/{date}/record_meta.json`

2. **运行工作流**
   - 工作流执行完成后会更新元数据
   - 包含总结信息、工作流记录等

3. **查看结果**
   - 此时可以正常查看该日期的元数据和总结
